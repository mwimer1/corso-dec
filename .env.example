# Canonical server-owned flag. Client reads a mirrored value via publicEnv().
# Canonical flag for mock DB mode (preferred). Set to 'true' to force using mock JSON datasets in dev.
CORSO_USE_MOCK_DB=true
NEXT_PUBLIC_USE_MOCK_DB=true
USE_MOCK_DB=true

# (Deprecated) legacy alias — accepted for one release window only.
# Do not add new usages; migrate to USE_MOCK_DB.
# NEXT_PUBLIC_USE_MOCK_DB=true

# =============================================================================
# Corso Data Platform - Local Environment Configuration
# =============================================================================

# =============================================================================
# CORE APPLICATION CONFIGURATION
# =============================================================================

# Application Environment
NODE_ENV=production
# Base URL for the application (used for absolute links, emails, and OAuth redirects)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_STAGE=production
NEXT_PUBLIC_APP_NAME=Corso Data Platform
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_ASSETS_BASE=https://yvwpjlzkygbmlslnqyca.supabase.co/storage/v1/object/public/corso-assets
# Use CSV mock DB for dashboard entity queries (dev only)
USE_MOCK_DB=true
# =============================================================================
# AUTHENTICATION (Clerk)
# =============================================================================

# Clerk Authentication - Required for production, optional in development
CLERK_SECRET_KEY=sk_test_e0mrdwVxCMKXUzIa3R2agpRXvtsiAuMoA6HAsKRCXZ
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_Y2xldmVyLWFsYmFjb3JlLTQxLmNsZXJrLmFjY291bnRzLmRldiQ
# Use explicit sign-in/sign-up URLs
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL=/
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL=/
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/onboarding
CLERK_WEBHOOK_SECRET=whsec_your_webhook_secret_here
NEXT_PUBLIC_CLERK_SIGN_UP_FORCE_REDIRECT_URL=/onboarding

# =============================================================================
# DATABASE (Supabase)
# =============================================================================

# Supabase Configuration
SUPABASE_URL=https://yvwpjlzkygbmlslnqyca.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
NEXT_PUBLIC_SUPABASE_URL=https://yvwpjlzkygbmlslnqyca.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY=your_supabase_publishable_default_key_here
SUPABASE_ACCESS_TOKEN=sbp_your_account_access_token_here

# =============================================================================
# AI INTEGRATION (OpenAI)
# =============================================================================

# OpenAI Configuration - Required for AI features
OPENAI_API_KEY=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
OPENAI_ORG_ID=org-your_organization_id_here
OPENAI_SQL_MODEL=gpt-4o-mini-2024-07-18
OPENAI_CHART_MODEL=gpt-4o-mini-2024-07-18
OPENAI_RATE_LIMIT_PER_MIN=60
OPENAI_TIMEOUT=30000
OPENAI_MAX_RETRIES=2
OPENAI_SLOW_THRESHOLD_MS=5000
OPENAI_TOKENS_WARN_THRESHOLD=1000

# =============================================================================
# ANALYTICS (ClickHouse)
# =============================================================================

# ClickHouse Configuration - Optional for analytics
CLICKHOUSE_URL=https://njv2m85kug.us-east-2.aws.clickhouse.cloud:8443
CLICKHOUSE_PASSWORD=IncM9z&AXjwGxa
CLICKHOUSE_DATABASE=prod_l3
CLICKHOUSE_READONLY_USER=prod_readonly_user
CLICKHOUSE_RATE_LIMIT_PER_MIN=1000
CLICKHOUSE_SLOW_QUERY_MS=5000
CLICKHOUSE_TIMEOUT=30000

# =============================================================================
# PAYMENT PROCESSING (Stripe)
# =============================================================================

# Stripe Configuration - Required for billing
STRIPE_SECRET_KEY=sk_test_51PiPKhEqp8zUoaX6ZxyKSFCHPlLTm83aoQKPgqkzrvQzluetugc9GanSdOpPT01HFBFZBocJoAf0bF2VaJ7oUGi000sN7mBgIM
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_dQJtOeireF9KlhnagygZjxBeEyS6SbZm


# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Sentry Error Tracking
SENTRY_DSN=https://your_sentry_dsn_here
NEXT_PUBLIC_SENTRY_DSN=https://your_public_sentry_dsn_here
SENTRY_ORG=your_sentry_org
SENTRY_PROJECT=your_sentry_project

# =============================================================================
# CACHING & SESSIONS (Redis)
# =============================================================================

# Upstash Redis Configuration
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_token_here

# =============================================================================
# SECURITY & COMPLIANCE
# =============================================================================

# Content Security Policy
CSP_SCRIPT_DOMAINS='self',js.stripe.com,js.clerk.dev
CSP_STYLE_DOMAINS='self',fonts.googleapis.com
CSP_FONT_DOMAINS='self',fonts.gstatic.com
CSP_IMG_DOMAINS='self',images.clerk.dev,js.stripe.com,yvwpjlzkygbmlslnqyca.supabase.co
CSP_CONNECT_DOMAINS='self',api.openai.com,api.stripe.com
CSP_FRAME_DOMAINS='self',js.stripe.com,accounts.clerk.dev
CSP_REPORT_URI=/api/public/csp-report
CSP_REPORT_ONLY=false

# Cloudflare Turnstile (Bot Protection)
NEXT_PUBLIC_TURNSTILE_SITE_KEY=your_turnstile_site_key_here
TURNSTILE_SECRET_KEY=your_turnstile_secret_key_here

# =============================================================================
# INTEGRATIONS & SERVICES
# =============================================================================

# Intercom Customer Support
NEXT_PUBLIC_INTERCOM_APP_ID=ee5719dd-34dd-49b2-88db-ca173c6e00e1
INTERCOM_API_KEY=d12caa68-37d8-4eec-ad1d-d5cdc906fe31

# Third-party JWT Configuration
# External SSO (removed): THIRD_PARTY_JWKS_URL and THIRD_PARTY_ISSUER are no longer used

# External SSO Configuration
ENABLE_EXTERNAL_SSO=false

# =============================================================================
# CONTENT & ASSETS
# =============================================================================

# Placeholder Images
NEXT_PUBLIC_PLACEHOLDER_IMAGE_BASE=https://via.placeholder.com

# =============================================================================
# PERFORMANCE & OPTIMIZATION
# =============================================================================

# Authentication Timeout
AUTH_IDLE_TIMEOUT_MIN=30

# Database Performance
PG_STAT_TOP_N=10

# CORS Configuration
CORS_ORIGINS=*

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Vercel Environment
VERCEL_ENV=development

# Next.js Telemetry
NEXT_TELEMETRY_DISABLED=1

# Onboarding Development Preview
# Enable in local development to allow revisiting onboarding after completion
# Production ignores this flag (guarded in code)
NEXT_PUBLIC_ONBOARDING_PREVIEW=1

# Package Version (auto-populated)
npm_package_version=0.1.0

# Chromatic project token (local runs only; CI uses GitHub Actions secret)
# Source: Chromatic project settings → Project token
CHROMATIC_PROJECT_TOKEN=chpt_c9d0368e73bb886

# API Key
API_KEY=corso_dev_key

# Optional: Logging endpoint
# LOGGING_ENDPOINT=https://your-logging-service.com/api/logs

# -----------------------------------------------------------------------------
# CSP & Logging Controls (dev convenience)
# -----------------------------------------------------------------------------
# Reduce console noise from middleware debug logs (opt-in only)
CSP_DEBUG_HEADERS=false
# Disable CSP report logs in dev route handler
CSP_REPORT_LOG=false
# Further cap per-request CSP logs
CSP_REPORT_MAX_LOGS=0
# Lower global log verbosity locally
LOG_LEVEL=info

# CSV-backed mock data for dashboard entities (set to 'true' to use db/*.csv)
# Turn this on for local development only; not used in production builds.
MOCK_ENTITY_DATA=true

# AG Grid Enterprise feature gating
# Set to '1' to enable AG Grid Enterprise (requires a valid license key below).
NEXT_PUBLIC_AGGRID_ENTERPRISE=1
# Public license key for AG Grid Enterprise
NEXT_PUBLIC_AGGRID_LICENSE_KEY=Using_this_{AG_Charts_and_AG_Grid}_Enterprise_key_{AG-072861}_in_excess_of_the_licence_granted_is_not_permitted___Please_report_misuse_to_legal@ag-grid.com___For_help_with_changing_this_key_please_contact_info@ag-grid.com___{Corso,_Inc.}_is_granted_a_{Single_Application}_Developer_License_for_the_application_{discover.getcorso.com}_only_for_{1}_Front-End_JavaScript_developer___All_Front-End_JavaScript_developers_working_on_{discover.getcorso.com}_need_to_be_licensed___{discover.getcorso.com}_has_been_granted_a_Deployment_License_Add-on_for_{1}_Production_Environment___This_key_works_with_{AG_Charts_and_AG_Grid}_Enterprise_versions_released_before_{3_January_2026}____[v3]_[0102]_MTc2NzM5ODQwMDAwMA==b03396a136ab260b64e40525000d37d6
# Alternative legacy environment variable names (for backward compatibility)
NEXT_PUBLIC_AG_GRID_ENTERPRISE=1
NEXT_PUBLIC_AG_GRID_LICENSE_KEY=Using_this_{AG_Charts_and_AG_Grid}_Enterprise_key_{AG-072861}_in_excess_of_the_licence_granted_is_not_permitted___Please_report_misuse_to_legal@ag-grid.com___For_help_with_changing_this_key_please_contact_info@ag-grid.com___{Corso,_Inc.}_is_granted_a_{Single_Application}_Developer_License_for_the_application_{discover.getcorso.com}_only_for_{1}_Front-End_JavaScript_developer___All_Front-End_JavaScript_developers_working_on_{discover.getcorso.com}_need_to_be_licensed___{discover.getcorso.com}_has_been_granted_a_Deployment_License_Add-on_for_{1}_Production_Environment___This_key_works_with_{AG_Charts_and_AG_Grid}_Enterprise_versions_released_before_{3_January_2026}____[v3]_[0102]_MTc2NzM5ODQwMDAwMA==b03396a136ab260b64e40525000d37d6